(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3eTb7",form:"Searchbar_form__1RvKa",formBtn:"Searchbar_formBtn__1r3cD",searchIcon:"Searchbar_searchIcon__3qJbs",formBtnLabel:"Searchbar_formBtnLabel__BHYmt",formInput:"Searchbar_formInput__6YlYi"}},14:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__1-hKf",imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2XIRJ"}},15:function(e,t,a){e.exports={overlay:"Modal_overlay__22-Mq",modal:"Modal_modal__1AbWy"}},19:function(e,t,a){e.exports={button:"Button_button__F5r2t"}},20:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1CUQT"}},28:function(e,t,a){},29:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),o=a.n(c),i=(a(28),a(17)),s=a(4),l=a(5),u=a(7),h=a(6),b=(a(29),a(18)),m=a.n(b),d=a(12),f=(a(50),a(19)),j=a.n(f),p=a(2),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("button",{type:"button",className:j.a.button,onClick:this.props.loadMoreBtn,children:"Load more"})}}]),a}(n.Component),O=a(14),y=a.n(O),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=e.props,a=t.id;(0,t.onItemClick)(a)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.webformatURL,a=e.tags;return Object(p.jsx)("li",{className:y.a.galleryItem,onClick:this.handleClick,children:Object(p.jsx)("img",{src:t,alt:a,className:y.a.imageGalleryItem})})}}]),a}(n.Component),_=a(20),x=a.n(_),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleItemClick=function(t){e.props.showModal(t)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.images;return Object(p.jsx)("ul",{className:x.a.imageGallery,children:t.map((function(t){return Object(p.jsx)(v,{webformatURL:t.webformatURL,tags:t.tags,id:t.id,onItemClick:e.handleItemClick},t.id)}))})}}]),a}(n.Component),I=a(15),k=a.n(I),S=document.getElementById("modal-root"),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleOverlayClick=function(t){t.target===t.currentTarget&&e.props.closeModal()},e.handleEscPressed=function(t){"Escape"===t.key&&e.props.closeModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleEscPressed)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleEscPressed)}},{key:"render",value:function(){return Object(c.createPortal)(Object(p.jsx)("div",{className:k.a.overlay,onClick:this.handleOverlayClick,children:Object(p.jsx)("div",{className:k.a.modal,children:this.props.children})}),S)}}]),a}(n.Component),M=a(21),P=a(10),B=a.n(P),N=a(22),E=a(0),G=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleSubmit=function(t){t.preventDefault();var a=t.target.query,n=a.name,r=a.value;e.setState(Object(M.a)({},n,r)),e.props.handleImages(r)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(p.jsx)("header",{className:B.a.searchbar,children:Object(p.jsxs)("form",{className:B.a.form,onSubmit:this.handleSubmit,children:[Object(p.jsx)("button",{type:"submit",className:B.a.formBtn,children:Object(p.jsx)(E.b.Provider,{value:{className:"".concat(B.a.searchIcon)},children:Object(p.jsx)(N.a,{})})}),Object(p.jsx)("input",{className:B.a.formInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query"})]})})}}]),a}(r.a.Component),L=G,q=a(16),A=a.n(q),U=a(23),F=a(8),R=a(11),T=Object(R.a)("baseUrl"),D=Object(R.a)("privatKey"),J=Object(R.a)("options"),Q=Object(R.a)("page"),K=Object(R.a)("perPage"),Y=function(){function e(){Object(s.a)(this,e),Object.defineProperty(this,T,{writable:!0,value:"https://pixabay.com/api/"}),Object.defineProperty(this,D,{writable:!0,value:"24000530-001c810234599b9b4d7fbf89c"}),Object.defineProperty(this,J,{writable:!0,value:{imageType:"photo",orientation:"horizontal",safesearch:!0}}),Object.defineProperty(this,Q,{writable:!0,value:1}),Object.defineProperty(this,K,{writable:!0,value:12}),this.searchQuery=""}return Object(l.a)(e,[{key:"fetchSearch",value:function(){var e=Object(U.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(Object(F.a)(this,T)[T],"?key=").concat(Object(F.a)(this,D)[D],"&q=").concat(this.searchQuery,"&image_type=").concat(Object(F.a)(this,J)[J].imageType,"&orientation=").concat(Object(F.a)(this,J)[J].orientation,"&safesearch=").concat(Object(F.a)(this,J)[J].safesearch,"&page=").concat(Object(F.a)(this,Q)[Q],"&per_page=").concat(Object(F.a)(this,K)[K]));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,Object(F.a)(this,Q)[Q]+=1,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPage",value:function(){Object(F.a)(this,Q)[Q]=1}}]),e}(),W=new Y,z=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],modalImage:null,loading:!1},e.handleImages=function(t){t?(e.setState({loading:!0}),W.resetPage(),W.searchQuery=t,W.fetchSearch().then((function(t){0===t.hits.length&&d.b.error("No images with this query!"),e.setState({images:t.hits})})).catch((function(e){return console.log(e.code)})).finally((function(){e.setState({loading:!1})}))):(d.b.warn("Enter some query!"),e.setState({images:[]}))},e.showModal=function(t){var a=e.state.images.filter((function(e){return e.id===t}));e.setState({modalImage:a[0]})},e.closeModal=function(){e.setState({modalImage:null})},e.loadMore=function(){e.setState({loading:!0}),W.fetchSearch().then((function(t){e.setState((function(e){return{images:[].concat(Object(i.a)(e.images),Object(i.a)(t.hits))}}))})).catch((function(e){return console.log(e.code)})).finally((function(){e.setState({loading:!1})}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.images,a=e.modalImage,n=e.loading;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{handleImages:this.handleImages}),Object(p.jsx)(w,{images:t,showModal:this.showModal}),n&&Object(p.jsx)(m.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,style:{textAlign:"center"}}),t.length>0&&Object(p.jsx)(g,{loadMoreBtn:this.loadMore}),a&&Object(p.jsx)(C,{closeModal:this.closeModal,children:Object(p.jsx)("img",{src:a.largeImageURL,alt:a.tags})}),Object(p.jsx)(d.a,{position:"top-right",autoClose:3e3})]})}}]),a}(r.a.Component),H=z;o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(H,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.341e76c7.chunk.js.map