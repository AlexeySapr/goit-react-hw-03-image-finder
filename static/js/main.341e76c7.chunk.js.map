{"version":3,"sources":["components/searchbar/Searchbar.module.css","components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/button/Button.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","services/searchAPI.js","App.js","index.js"],"names":["module","exports","Button","type","className","s","button","onClick","this","props","loadMoreBtn","Component","ImageGalleryItem","handleClick","id","onItemClick","webformatURL","tags","galleryItem","src","alt","imageGalleryItem","ImageGallery","handleItemClick","showModal","images","imageGallery","map","image","modalRoot","document","getElementById","Modal","handleOverlayClick","event","target","currentTarget","closeModal","handleEscPressed","key","window","addEventListener","removeEventListener","createPortal","overlay","modal","children","Searchbar","state","query","handleSubmit","preventDefault","name","value","setState","handleImages","searchbar","form","onSubmit","formBtn","Provider","searchIcon","formInput","autoComplete","autoFocus","placeholder","React","SearchAPI","imageType","orientation","safesearch","searchQuery","a","fetch","response","json","data","searchService","App","modalImage","loading","imagesQuery","resetPage","fetchSearch","then","hits","length","toast","error","catch","console","log","code","finally","warn","imageId","currentImage","filter","loadMore","prevState","color","height","width","style","textAlign","largeImageURL","position","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.341e76c7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3eTb7\",\"form\":\"Searchbar_form__1RvKa\",\"formBtn\":\"Searchbar_formBtn__1r3cD\",\"searchIcon\":\"Searchbar_searchIcon__3qJbs\",\"formBtnLabel\":\"Searchbar_formBtnLabel__BHYmt\",\"formInput\":\"Searchbar_formInput__6YlYi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1-hKf\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2XIRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__22-Mq\",\"modal\":\"Modal_modal__1AbWy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__F5r2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1CUQT\"};","import React, { Component } from 'react';\r\nimport s from './Button.module.css';\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={s.button}\r\n        onClick={this.props.loadMoreBtn}\r\n      >\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  handleClick = () => {\r\n    const { id, onItemClick } = this.props;\r\n    onItemClick(id);\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, tags } = this.props;\r\n\r\n    return (\r\n      <li className={s.galleryItem} onClick={this.handleClick}>\r\n        <img src={webformatURL} alt={tags} className={s.imageGalleryItem} />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n  handleItemClick = id => {\r\n    this.props.showModal(id);\r\n  };\r\n\r\n  render() {\r\n    const { images } = this.props;\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {images.map(image => (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            webformatURL={image.webformatURL}\r\n            tags={image.tags}\r\n            id={image.id}\r\n            onItemClick={this.handleItemClick}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  handleOverlayClick = event => {\r\n    const { target, currentTarget } = event;\r\n    if (target === currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleEscPressed = event => {\r\n    if (event.key === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscPressed);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscPressed);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\n\r\nclass Searchbar extends React.Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { name, value } = event.target.query;\r\n    this.setState({ [name]: value });\r\n\r\n    this.props.handleImages(value);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.form} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.formBtn}>\r\n            <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\r\n              <FaSearch />\r\n            </IconContext.Provider>\r\n          </button>\r\n\r\n          <input\r\n            className={s.formInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"query\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","class SearchAPI {\r\n  #baseUrl = 'https://pixabay.com/api/';\r\n  #privatKey = '24000530-001c810234599b9b4d7fbf89c';\r\n  #options = {\r\n    imageType: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: true,\r\n  };\r\n  #page = 1;\r\n  #perPage = 12;\r\n\r\n  constructor() {\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  async fetchSearch() {\r\n    const response = await fetch(\r\n      `${this.#baseUrl}?key=${this.#privatKey}&q=${\r\n        this.searchQuery\r\n      }&image_type=${this.#options.imageType}&orientation=${\r\n        this.#options.orientation\r\n      }&safesearch=${this.#options.safesearch}&page=${this.#page}&per_page=${\r\n        this.#perPage\r\n      }`,\r\n    );\r\n\r\n    const data = await response.json();\r\n    this.#page += 1;\r\n\r\n    return data;\r\n  }\r\n\r\n  resetPage() {\r\n    this.#page = 1;\r\n  }\r\n}\r\n\r\nconst searchService = new SearchAPI();\r\n\r\nexport { searchService };\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Button from './components/button/Button';\r\nimport ImageGallery from './components/imageGallery/ImageGallery';\r\nimport Modal from './components/modal/Modal';\r\nimport Searchbar from './components/searchbar/Searchbar';\r\n// import initData from './data/Data.json';\r\nimport { searchService } from './services/searchAPI.js';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    images: [],\r\n    modalImage: null,\r\n    loading: false,\r\n  };\r\n\r\n  handleImages = imagesQuery => {\r\n    if (imagesQuery) {\r\n      this.setState({ loading: true });\r\n      searchService.resetPage();\r\n      searchService.searchQuery = imagesQuery;\r\n      searchService\r\n        .fetchSearch()\r\n        .then(images => {\r\n          if (images.hits.length === 0) {\r\n            toast.error('No images with this query!');\r\n          }\r\n          this.setState({ images: images.hits });\r\n        })\r\n        .catch(error => console.log(error.code))\r\n        .finally(() => {\r\n          this.setState({ loading: false });\r\n        });\r\n    } else {\r\n      toast.warn('Enter some query!');\r\n      this.setState({ images: [] });\r\n    }\r\n  };\r\n\r\n  showModal = imageId => {\r\n    const currentImage = this.state.images.filter(\r\n      image => image.id === imageId,\r\n    );\r\n    this.setState({ modalImage: currentImage[0] });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.setState({ loading: true });\r\n    searchService\r\n      .fetchSearch()\r\n      .then(images => {\r\n        this.setState(prevState => {\r\n          return { images: [...prevState.images, ...images.hits] };\r\n        });\r\n      })\r\n      .catch(error => console.log(error.code))\r\n      .finally(() => {\r\n        this.setState({ loading: false });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { images, modalImage, loading } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar handleImages={this.handleImages} />\r\n        <ImageGallery images={images} showModal={this.showModal} />\r\n        {loading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            style={{ textAlign: 'center' }}\r\n          />\r\n        )}\r\n        {images.length > 0 && <Button loadMoreBtn={this.loadMore} />}\r\n        {modalImage && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img src={modalImage.largeImageURL} alt={modalImage.tags} />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}