{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/button/Button.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/modal/Modal.js","components/searchbar/Searchbar.js","services/searchAPI.js","App.js","index.js","components/searchbar/Searchbar.module.css"],"names":["module","exports","Button","loadMoreBtn","type","className","s","button","onClick","ImageGalleryItem","imageItem","onItemClick","galleryItem","src","webformatURL","alt","tags","imageGalleryItem","ImageGallery","images","showModal","image","imageGallery","map","id","modalRoot","document","getElementById","Modal","handleOverlayClick","event","target","currentTarget","props","closeModal","handleEscPressed","key","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","children","Component","Searchbar","onSubmit","searchbar","form","preventDefault","value","query","formBtn","Provider","searchIcon","formInput","autoComplete","autoFocus","placeholder","name","SearchAPI","imageType","orientation","safesearch","searchQuery","a","fetch","response","json","data","searchService","App","state","pageQuery","imagesQuery","modalImage","loading","handleImages","toast","warn","setState","fetchImages","fetchSearch","then","hits","length","error","prevState","catch","code","finally","loadMore","_","resetPage","color","height","width","style","textAlign","largeImageURL","position","autoClose","React","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.eae675ce.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__1-hKf\",\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2XIRJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__22-Mq\",\"modal\":\"Modal_modal__1AbWy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__F5r2t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1CUQT\"};","import s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ loadMoreBtn }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={loadMoreBtn}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  loadMoreBtn: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ imageItem, onItemClick }) => {\r\n  const onImageClick = () => {\r\n    onItemClick(imageItem);\r\n  };\r\n\r\n  return (\r\n    <li className={s.galleryItem} onClick={onImageClick}>\r\n      <img\r\n        src={imageItem.webformatURL}\r\n        alt={imageItem.tags}\r\n        className={s.imageGalleryItem}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  onItemClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ images, showModal }) => {\r\n  const onItemClick = image => {\r\n    showModal(image);\r\n  };\r\n\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          imageItem={image}\r\n          onItemClick={onItemClick}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  showModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport s from './Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  handleOverlayClick = event => {\r\n    const { target, currentTarget } = event;\r\n    if (target === currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  handleEscPressed = event => {\r\n    if (event.key === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscPressed);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscPressed);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func,\r\n  children: PropTypes.node,\r\n};\r\n","import s from './Searchbar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { IconContext } from 'react-icons';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { value } = event.target.query;\r\n    onSubmit(value);\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.formBtn}>\r\n          <IconContext.Provider value={{ className: `${s.searchIcon}` }}>\r\n            <FaSearch />\r\n          </IconContext.Provider>\r\n        </button>\r\n\r\n        <input\r\n          className={s.formInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          name=\"query\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","class SearchAPI {\r\n  #baseUrl = 'https://pixabay.com/api/';\r\n  #privatKey = '24000530-001c810234599b9b4d7fbf89c';\r\n  #options = {\r\n    imageType: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: true,\r\n  };\r\n  #page = 1;\r\n  #perPage = 12;\r\n\r\n  constructor() {\r\n    this.searchQuery = '';\r\n  }\r\n\r\n  async fetchSearch() {\r\n    const response = await fetch(\r\n      `${this.#baseUrl}?key=${this.#privatKey}&q=${\r\n        this.searchQuery\r\n      }&image_type=${this.#options.imageType}&orientation=${\r\n        this.#options.orientation\r\n      }&safesearch=${this.#options.safesearch}&page=${this.#page}&per_page=${\r\n        this.#perPage\r\n      }`,\r\n    );\r\n\r\n    const data = await response.json();\r\n    this.#page += 1;\r\n\r\n    return data;\r\n  }\r\n\r\n  resetPage() {\r\n    this.#page = 1;\r\n  }\r\n}\r\n\r\nconst searchService = new SearchAPI();\r\n\r\nexport { searchService };\r\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Button from './components/button/Button';\r\nimport ImageGallery from './components/imageGallery/ImageGallery';\r\nimport Modal from './components/modal/Modal';\r\nimport Searchbar from './components/searchbar/Searchbar';\r\n// import initData from './data/Data.json';\r\nimport { searchService } from './services/searchAPI.js';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    pageQuery: 1,\r\n    imagesQuery: null,\r\n    images: [],\r\n    modalImage: null,\r\n    loading: false,\r\n  };\r\n\r\n  handleImages = imagesQuery => {\r\n    if (!imagesQuery) {\r\n      toast.warn('Enter some query!');\r\n      return this.setState({ images: [] });\r\n    } else {\r\n      this.setState({ pageQuery: 1, imagesQuery });\r\n    }\r\n  };\r\n\r\n  fetchImages = () => {\r\n    const { imagesQuery, pageQuery } = this.state;\r\n\r\n    this.setState({ loading: true });\r\n\r\n    searchService.searchQuery = imagesQuery;\r\n    searchService\r\n      .fetchSearch()\r\n      .then(images => {\r\n        if (images.hits.length === 0) {\r\n          toast.error('No images with this query!');\r\n        }\r\n        if (pageQuery > 1) {\r\n          this.setState(prevState => ({\r\n            images: [...prevState.images, ...images.hits],\r\n          }));\r\n        } else {\r\n          this.setState({ images: images.hits });\r\n        }\r\n      })\r\n      .catch(error => toast.error(error.code))\r\n      .finally(() => {\r\n        this.setState({ loading: false });\r\n      });\r\n  };\r\n\r\n  componentDidUpdate(_, prevState) {\r\n    const { imagesQuery, pageQuery } = this.state;\r\n\r\n    if (prevState.imagesQuery !== imagesQuery) {\r\n      searchService.resetPage();\r\n      this.fetchImages();\r\n    }\r\n\r\n    if (prevState.pageQuery !== pageQuery) {\r\n      this.fetchImages();\r\n    }\r\n  }\r\n\r\n  loadMore = () => {\r\n    this.setState(prevState => {\r\n      return { pageQuery: prevState.pageQuery + 1 };\r\n    });\r\n  };\r\n\r\n  showModal = modalImage => {\r\n    this.setState({ modalImage });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ modalImage: null });\r\n  };\r\n\r\n  render() {\r\n    const { images, modalImage, loading } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleImages} />\r\n        <ImageGallery images={images} showModal={this.showModal} />\r\n        {loading && (\r\n          <Loader\r\n            type=\"ThreeDots\"\r\n            color=\"#00BFFF\"\r\n            height={80}\r\n            width={80}\r\n            style={{ textAlign: 'center' }}\r\n          />\r\n        )}\r\n        {images.length > 0 && <Button loadMoreBtn={this.loadMore} />}\r\n        {modalImage && (\r\n          <Modal closeModal={this.closeModal}>\r\n            <img src={modalImage.largeImageURL} alt={modalImage.tags} />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer position=\"top-right\" autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3eTb7\",\"form\":\"Searchbar_form__1RvKa\",\"formBtn\":\"Searchbar_formBtn__1r3cD\",\"searchIcon\":\"Searchbar_searchIcon__3qJbs\",\"formBtnLabel\":\"Searchbar_formBtnLabel__BHYmt\",\"formInput\":\"Searchbar_formInput__6YlYi\"};"],"sourceRoot":""}